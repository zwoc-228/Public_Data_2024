<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Prison Population 2010 - 2020 Comparison</title>
<meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no">
<link href="https://api.mapbox.com/mapbox-gl-js/v3.1.2/mapbox-gl.css" rel="stylesheet">
<script src="https://api.mapbox.com/mapbox-gl-js/v3.1.2/mapbox-gl.js"></script>
<script src="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-compare/v0.4.0/mapbox-gl-compare.js"></script>
<link rel="stylesheet" href="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-compare/v0.4.0/mapbox-gl-compare.css" type="text/css">
<style>
body { margin: 0; padding: 0; }
#map { position: absolute; top: 0; bottom: 0; width: 100%; }
</style>
</head>
<body>
<style>
body {
overflow: hidden;
}
 
body * {
-webkit-touch-callout: none;
-webkit-user-select: none;
-moz-user-select: none;
-ms-user-select: none;
user-select: none;
} 
.map {
position: absolute;
top: 0;
bottom: 0;
width: 100%;
}
.mapboxgl-compare .compare-swiper-vertical {
	background-color: black;
}
.mapboxgl-compare {
    background-color: black;}
</style>
<div id="comparison-container">
</div>
<div id="before" class="map">
</div>
<div id="after" class="map">
<script>

//TODO:
//1. make 2 mapstyles in mapbox
//2. set mapboxgl.accessToken as your unique access token
//3. set the style for the before container to be your 2010 data style
//4. set the style for the after container to be your 2020 data style
//5. add center coordinates for each map
//6. set zoom for each map
//7. test on your local server
//8. INDEPENDENTLY - add label for each map - 
//HINT: use 2 <div></div> elements for your titles and set them to have z-index to be greater than map div so they show on top


	mapboxgl.accessToken = 'pk.eyJ1IjoiendvYyIsImEiOiJjazJtc2l6cWYwbGNlM29vNnhjeWE3bGR3In0.OYJKzwTrf4wahGGNn_5UXw';

	const beforeMap = new mapboxgl.Map({
container: 'before',
// Choose from Mapbox's core styles, or make your own style with Mapbox Studio
style: 'mapbox://styles/zwoc/clsgjyz3l03hu01p2font04wp',
center: [-98, 40],
zoom: 4,
minZoom:3,
maxBounds: [
[-125, 24], 
[-66, 49] 
] 
});
 
const afterMap = new mapboxgl.Map({
container: 'after',
style: 'mapbox://styles/zwoc/clsgk8kgw03hw01p2e2ci4ivn',
center: [-98, 40],
zoom: 4,
minZoom:3,
maxBounds: [
[-125, 24], 
[-66, 49] 
] 
});

beforeMap.addControl(
new mapboxgl.GeolocateControl({
positionOptions: {
enableHighAccuracy: true
},
// When active the map will receive updates to the device's location as it changes.
trackUserLocation: true,
// Draw an arrow next to the location dot to indicate which direction the device is heading.
showUserHeading: true
}),
'bottom-left'
);




afterMap.addControl(
new mapboxgl.GeolocateControl({
positionOptions: {
enableHighAccuracy: true
},
// When active the map will receive updates to the device's location as it changes.
trackUserLocation: true,
// Draw an arrow next to the location dot to indicate which direction the device is heading.
showUserHeading: true
}),
'bottom-left'
);

// Add a scale control to the map
beforeMap.addControl(new mapboxgl.ScaleControl());
afterMap.addControl(new mapboxgl.ScaleControl());




// A selector or reference to HTML element
const container = '#comparison-container';
 
const map = new mapboxgl.Compare(beforeMap, afterMap, container, {
// Set this to enable comparing two maps by mouse movement:
// mousemove: true
});


</script>
 
</body>
</html>